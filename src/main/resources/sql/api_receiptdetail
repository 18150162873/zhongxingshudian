CREATE TABLE API_RECEIPTDETAIL 
   (  SERIALKEY NUMBER , 
  WHSEID NVARCHAR2(30) DEFAULT USER, 
  RECEIPTKEY NVARCHAR2(10) , 
  RECEIPTLINENUMBER NVARCHAR2(5) , 
  SUBLINENUMBER NVARCHAR2(20) DEFAULT ' ' , 
  EXTERNRECEIPTKEY NVARCHAR2(50) DEFAULT ' ' , 
  EXTERNLINENO NVARCHAR2(20) DEFAULT ' ' , 
  STORERKEY NVARCHAR2(15) DEFAULT ' ' , 
  POKEY NVARCHAR2(50) DEFAULT ' ' , 
  TARIFFKEY NVARCHAR2(10) DEFAULT 'XXXXXXXXXX' , 
  SKU NVARCHAR2(50) DEFAULT ' ' , 
  ALTSKU NVARCHAR2(50) DEFAULT ' ' , 
  ID NVARCHAR2(50) DEFAULT ' ' , 
  STATUS NVARCHAR2(10) DEFAULT '0' , 
  DATERECEIVED DATE DEFAULT SYS_EXTRACT_UTC(SYSTIMESTAMP) , 
  QTYEXPECTED NUMBER(22,5) DEFAULT 0 , 
  QTYADJUSTED NUMBER(22,5) DEFAULT 0 , 
  QTYRECEIVED NUMBER(22,5) DEFAULT 0 , 
  UOM NVARCHAR2(10) DEFAULT ' ' , 
  PACKKEY NVARCHAR2(50) DEFAULT 'STD' , 
  VESSELKEY NVARCHAR2(18) DEFAULT ' ', 
  VOYAGEKEY NVARCHAR2(18) DEFAULT ' ', 
  XDOCKKEY NVARCHAR2(18) DEFAULT ' ', 
  CONTAINERKEY NVARCHAR2(18) DEFAULT ' ', 
  TOLOC NVARCHAR2(10) , 
  TOLOT NVARCHAR2(10), 
  TOID NVARCHAR2(50) DEFAULT ' ', 
  CONDITIONCODE NVARCHAR2(10) DEFAULT 'OK' , 
  LOTTABLE01 NVARCHAR2(50) DEFAULT 'N' , 
  LOTTABLE02 NVARCHAR2(50) DEFAULT ' ' , 
  LOTTABLE03 NVARCHAR2(50) DEFAULT ' ' , 
  LOTTABLE04 DATE, 
  LOTTABLE05 DATE, 
  LOTTABLE06 NVARCHAR2(50) DEFAULT ' ' , 
  LOTTABLE07 NVARCHAR2(50) DEFAULT ' ' , 
  LOTTABLE08 NVARCHAR2(50) DEFAULT ' ' , 
  LOTTABLE09 NVARCHAR2(50) DEFAULT ' ' , 
  LOTTABLE10 NVARCHAR2(50) DEFAULT ' ' , 
  CASECNT NUMBER(22,5) DEFAULT 0 , 
  INNERPACK NUMBER(22,5) DEFAULT 0 , 
  PALLET NUMBER(22,5) DEFAULT 0 , 
  CUBE NUMBER(22,5) DEFAULT 0 , 
  GROSSWGT NUMBER(22,5) DEFAULT 0 , 
  NETWGT NUMBER(22,5) DEFAULT 0 , 
  OTHERUNIT1 NUMBER(22,5) DEFAULT 0 , 
  OTHERUNIT2 NUMBER(22,5) DEFAULT 0 , 
  UNITPRICE NUMBER(22,5) DEFAULT 0 , 
  EXTENDEDPRICE NUMBER(22,5) DEFAULT 0 , 
  EFFECTIVEDATE DATE, 
  FORTE_FLAG NVARCHAR2(6) DEFAULT 'I' , 
  SUSR1 NVARCHAR2(30), 
  SUSR2 NVARCHAR2(30), 
  SUSR3 NVARCHAR2(30), 
  SUSR4 NVARCHAR2(30), 
  SUSR5 NVARCHAR2(30), 
  NOTES NVARCHAR2(2000), 
  REASONCODE NVARCHAR2(20) DEFAULT ' ', 
  PALLETID NVARCHAR2(50), 
  QTYREJECTED NUMBER(22,5) DEFAULT 0 , 
  TYPE NVARCHAR2(10) DEFAULT '0', 
  RETURNTYPE NVARCHAR2(10), 
  RETURNREASON NVARCHAR2(10), 
  DISPOSITIONTYPE NVARCHAR2(10), 
  DISPOSITIONCODE NVARCHAR2(10), 
  RETURNCONDITION NVARCHAR2(10), 
  QCREQUIRED NVARCHAR2(1) DEFAULT '0' , 
  QCQTYINSPECTED NUMBER(22,5) DEFAULT 0, 
  QCQTYREJECTED NUMBER(22,5) DEFAULT 0, 
  QCREJREASON NVARCHAR2(10), 
  QCSTATUS NVARCHAR2(1) DEFAULT 'N', 
  QCUSER NVARCHAR2(256), 
  QCAUTOADJUST NVARCHAR2(1) DEFAULT '0', 
  EXTERNALLOT NVARCHAR2(100), 
  RMA NVARCHAR2(16), 
  PACKINGSLIPQTY NUMBER(22,5) DEFAULT 0 , 
  IPSKEY NVARCHAR2(10), 
  SUPPLIERNAME NVARCHAR2(25), 
  SUPPLIERKEY NVARCHAR2(10), 
  MATCHLOTTABLE NVARCHAR2(1) DEFAULT '0', 
  RECEIPTDETAILID NVARCHAR2(32), 
  POLINENUMBER NVARCHAR2(15), 
  LOTTABLE11 DATE, 
  LOTTABLE12 DATE, 
  SOURCELOCATION NVARCHAR2(64), 
  SOURCEVERSION NVARCHAR2(22), 
  REFERENCETYPE NVARCHAR2(64), 
  REFERENCEDOCUMENT NVARCHAR2(64), 
  REFERENCELOCATION NVARCHAR2(64), 
  REFERENCEVERSION NVARCHAR2(20), 
  REFERENCELINE NVARCHAR2(20), 
  CUBICMETER NUMBER(22,5) DEFAULT 0, 
  HUNDREDWEIGHT NUMBER(22,5) DEFAULT 0, 
  TAREWGT NUMBER(22,5) DEFAULT 0 , 
  REFERENCEACCOUNTINGENTITY NVARCHAR2(64), 
  REFERENCESCHEDULELINE NVARCHAR2(20), 
  REQUISITIONDOCUMENT NVARCHAR2(64), 
  REQUISITIONACCOUNTINGENTITY NVARCHAR2(64), 
  REQUISITIONLOCATION NVARCHAR2(64), 
  REQUISITIONVERSION NVARCHAR2(20), 
  REQUISITIONLINE NVARCHAR2(20), 
  REQUISITIONSCHEDULELINE NVARCHAR2(20), 
  PURCHASEORDERDOCUMENT NVARCHAR2(64), 
  PURCHASEORDERACCOUNTINGENTITY NVARCHAR2(64), 
  PURCHASEORDERLOCATION NVARCHAR2(64), 
  PURCHASEORDERVERSION NVARCHAR2(20), 
  PURCHASEORDERLINE NVARCHAR2(20), 
  PURCHASEORDERSCHEDULELINE NVARCHAR2(20), 
  SALESORDERDOCUMENT NVARCHAR2(64), 
  SALESORDERACCOUNTINGENTITY NVARCHAR2(64), 
  SALESORDERLOCATION NVARCHAR2(64), 
  SALESORDERVERSION NVARCHAR2(20), 
  SALESORDERLINE NVARCHAR2(20), 
  SALESORDERSCHEDULELINE NVARCHAR2(20), 
  PRODUCTIONORDERDOCUMENT NVARCHAR2(64), 
  PRODUCTIONORDERACCENTITY NVARCHAR2(64), 
  PRODUCTIONORDERLOCATION NVARCHAR2(64), 
  PRODUCTIONORDERVERSION NVARCHAR2(20), 
  PRODUCTIONORDERLINE NVARCHAR2(20), 
  PRODUCTIONORDERSCHEDULELINE NVARCHAR2(20), 
  TEMPERATURE NUMBER(5,2), 
  ORIGINALLINENUMBER NVARCHAR2(10), 
  DISPOSITION NVARCHAR2(10), 
  QCSAMPLEDTYPE NVARCHAR2(10), 
  QTYTOINSPECT NUMBER(22,5) DEFAULT 0, 
  CHECKFORBACKFLUSHING NVARCHAR2(1) DEFAULT '1', 
  QUARANTINELPN NVARCHAR2(50), 
  HOSTPROCESSREQUIRED NVARCHAR2(1) DEFAULT '0' , 
  ALLOWREOPEN NVARCHAR2(1) DEFAULT '1' , 
  ADDDATE DATE DEFAULT SYS_EXTRACT_UTC(SYSTIMESTAMP) , 
  ADDWHO NVARCHAR2(256) DEFAULT USER , 
  EDITDATE DATE DEFAULT SYS_EXTRACT_UTC(SYSTIMESTAMP) , 
  EDITWHO NVARCHAR2(256) DEFAULT USER , 
  PUTAWAY NVARCHAR2(10) DEFAULT '0', 
  SKIP NVARCHAR2(10) DEFAULT '0', 
  RETURNWHO NVARCHAR2(50), 
  RETURNDATE DATE, 
  RETURNSTATUS NVARCHAR2(10) DEFAULT '0', 
  DEFAULT1 VARCHAR2(100), 
  DEFAULT2 VARCHAR2(100), 
  DEFAULT3 VARCHAR2(100), 
  DEFAULT4 VARCHAR2(100), 
  DEFAULT5 VARCHAR2(100), 
  DEFAULT6 VARCHAR2(100), 
  DEFAULT7 VARCHAR2(100), 
  DEFAULT8 VARCHAR2(100), 
  DEFAULT9 VARCHAR2(100), 
  DEFAULT10 VARCHAR2(100), 
  DEFAULT11 VARCHAR2(100), 
  DEFAULT12 VARCHAR2(100), 
  DEFAULT13 VARCHAR2(100), 
  DEFAULT14 VARCHAR2(100), 
  DEFAULT15 VARCHAR2(100), 
  DEFAULT16 VARCHAR2(100), 
  DEFAULT17 VARCHAR2(100), 
  DEFAULT18 VARCHAR2(100), 
  DEFAULT19 VARCHAR2(100), 
  DEFAULT20 VARCHAR2(100), 
  DEFAULT21 VARCHAR2(100), 
  DEFAULT22 VARCHAR2(100), 
  DEFAULT23 VARCHAR2(100), 
  DEFAULT24 VARCHAR2(100), 
  DEFAULT25 VARCHAR2(100), 
  DEFAULT26 VARCHAR2(100), 
  DEFAULT27 VARCHAR2(100)
   )
/
create sequence API_RECEIPTDETAIL_seq
minvalue 1
maxvalue 999999999999999999999999999999
start with 1
increment by 1
cache 20;

/
CREATE OR REPLACE TRIGGER API_RECEIPTDETAIL_TRIGGER BEFORE INSERT ON API_RECEIPTDETAIL FOR EACH ROW
DECLARE
  BEGIN
    IF :NEW.SERIALKEY IS NULL THEN
      SELECT API_RECEIPTDETAIL_SEQ.NEXTVAL
      INTO   :NEW.SerialKey
      FROM   dual;
        END IF;
  END;
/
alter table API_RECEIPTDETAIL add batchid nvarchar2(50);
/